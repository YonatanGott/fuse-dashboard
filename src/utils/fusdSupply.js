import Web3 from "web3";

const abi = [{ "type": "event", "name": "Approval", "inputs": [{ "type": "address", "name": "owner", "internalType": "address", "indexed": true }, { "type": "address", "name": "spender", "internalType": "address", "indexed": true }, { "type": "uint256", "name": "value", "internalType": "uint256", "indexed": false }], "anonymous": false }, { "type": "event", "name": "Blacklisted", "inputs": [{ "type": "address", "name": "_account", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "BlacklisterChanged", "inputs": [{ "type": "address", "name": "newBlacklister", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "Burn", "inputs": [{ "type": "address", "name": "burner", "internalType": "address", "indexed": true }, { "type": "uint256", "name": "amount", "internalType": "uint256", "indexed": false }], "anonymous": false }, { "type": "event", "name": "MasterMinterChanged", "inputs": [{ "type": "address", "name": "newMasterMinter", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "Mint", "inputs": [{ "type": "address", "name": "minter", "internalType": "address", "indexed": true }, { "type": "address", "name": "to", "internalType": "address", "indexed": true }, { "type": "uint256", "name": "amount", "internalType": "uint256", "indexed": false }], "anonymous": false }, { "type": "event", "name": "MinterConfigured", "inputs": [{ "type": "address", "name": "minter", "internalType": "address", "indexed": true }, { "type": "uint256", "name": "minterAllowedAmount", "internalType": "uint256", "indexed": false }], "anonymous": false }, { "type": "event", "name": "MinterRemoved", "inputs": [{ "type": "address", "name": "oldMinter", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "OwnershipTransferred", "inputs": [{ "type": "address", "name": "previousOwner", "internalType": "address", "indexed": false }, { "type": "address", "name": "newOwner", "internalType": "address", "indexed": false }], "anonymous": false }, { "type": "event", "name": "Pause", "inputs": [], "anonymous": false }, { "type": "event", "name": "PauserChanged", "inputs": [{ "type": "address", "name": "newAddress", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "Transfer", "inputs": [{ "type": "address", "name": "from", "internalType": "address", "indexed": true }, { "type": "address", "name": "to", "internalType": "address", "indexed": true }, { "type": "uint256", "name": "value", "internalType": "uint256", "indexed": false }], "anonymous": false }, { "type": "event", "name": "UnBlacklisted", "inputs": [{ "type": "address", "name": "_account", "internalType": "address", "indexed": true }], "anonymous": false }, { "type": "event", "name": "Unpause", "inputs": [], "anonymous": false }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }], "name": "allowance", "inputs": [{ "type": "address", "name": "owner", "internalType": "address" }, { "type": "address", "name": "spender", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "approve", "inputs": [{ "type": "address", "name": "spender", "internalType": "address" }, { "type": "uint256", "name": "value", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }], "name": "balanceOf", "inputs": [{ "type": "address", "name": "account", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "blacklist", "inputs": [{ "type": "address", "name": "_account", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "address", "name": "", "internalType": "address" }], "name": "blacklister", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "burn", "inputs": [{ "type": "uint256", "name": "_amount", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "configureMinter", "inputs": [{ "type": "address", "name": "minter", "internalType": "address" }, { "type": "uint256", "name": "minterAllowedAmount", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "string", "name": "", "internalType": "string" }], "name": "currency", "inputs": [] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "uint8", "name": "", "internalType": "uint8" }], "name": "decimals", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "initialize", "inputs": [{ "type": "string", "name": "tokenName", "internalType": "string" }, { "type": "string", "name": "tokenSymbol", "internalType": "string" }, { "type": "string", "name": "tokenCurrency", "internalType": "string" }, { "type": "uint8", "name": "tokenDecimals", "internalType": "uint8" }, { "type": "address", "name": "newMasterMinter", "internalType": "address" }, { "type": "address", "name": "newPauser", "internalType": "address" }, { "type": "address", "name": "newBlacklister", "internalType": "address" }, { "type": "address", "name": "newOwner", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "isBlacklisted", "inputs": [{ "type": "address", "name": "_account", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "isMinter", "inputs": [{ "type": "address", "name": "account", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "address", "name": "", "internalType": "address" }], "name": "masterMinter", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "mint", "inputs": [{ "type": "address", "name": "_to", "internalType": "address" }, { "type": "uint256", "name": "_amount", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }], "name": "minterAllowance", "inputs": [{ "type": "address", "name": "minter", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "string", "name": "", "internalType": "string" }], "name": "name", "inputs": [] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "address", "name": "", "internalType": "address" }], "name": "owner", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "pause", "inputs": [] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "paused", "inputs": [] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "address", "name": "", "internalType": "address" }], "name": "pauser", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "removeMinter", "inputs": [{ "type": "address", "name": "minter", "internalType": "address" }] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "string", "name": "", "internalType": "string" }], "name": "symbol", "inputs": [] }, { "type": "function", "stateMutability": "view", "outputs": [{ "type": "uint256", "name": "", "internalType": "uint256" }], "name": "totalSupply", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "transfer", "inputs": [{ "type": "address", "name": "to", "internalType": "address" }, { "type": "uint256", "name": "value", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [{ "type": "bool", "name": "", "internalType": "bool" }], "name": "transferFrom", "inputs": [{ "type": "address", "name": "from", "internalType": "address" }, { "type": "address", "name": "to", "internalType": "address" }, { "type": "uint256", "name": "value", "internalType": "uint256" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "transferOwnership", "inputs": [{ "type": "address", "name": "newOwner", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "unBlacklist", "inputs": [{ "type": "address", "name": "_account", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "unpause", "inputs": [] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "updateBlacklister", "inputs": [{ "type": "address", "name": "_newBlacklister", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "updateMasterMinter", "inputs": [{ "type": "address", "name": "_newMasterMinter", "internalType": "address" }] }, { "type": "function", "stateMutability": "nonpayable", "outputs": [], "name": "updatePauser", "inputs": [{ "type": "address", "name": "_newPauser", "internalType": "address" }] }]

const web3 = new Web3(Web3.givenProvider);
const contract = new web3.eth.Contract(abi, '0x249BE57637D8B013Ad64785404b24aeBaE9B098B')

export const getFUSDSupply = async () => {
    let total = await contract.methods.totalSupply().call();
    let fixed = total / 1000000000000000000;
    return fixed;
}